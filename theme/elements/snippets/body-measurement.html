{% set bodyMeasurement = [] %}
{% set tabelaMedida = [] %}
{% for key, tab in productTabs %}
    {% if 'AdditionalTab' in key and 'tabelamedida-'in tab.description %}
        {% set tabelaMedida = tabelaMedida | merge({ (key) : tab.container_id }) %}
    {% endif %}
{% endfor %}
{% for id in tabelaMedida %}
    {% if loop.first %}
        {% set bodyMeasurement = bodyMeasurement | merge({ 'valid' : id }) %}
    {% else %}
        {% if not bodyMeasurement.invalid %}
            {% set bodyMeasurement = bodyMeasurement | merge({ 'invalid' : [id] }) %}
        {% else %}
            {% set invalids = bodyMeasurement.invalid %}
            {% set invalids = invalids | merge([id]) %}
            {% set bodyMeasurement = bodyMeasurement | merge({ 'invalid' : invalids }) %}
        {% endif %}
    {% endif %}
{% endfor %}
{% if bodyMeasurement.valid %}
    <a href="#0" onclick="this.nextElementSibling.dataset.show='true';return false;" class="body-measurement__link">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="18" viewBox="0 0 24 18"><path fill="" d="M6.61.28c-2.241.198-4.21.75-5.368 1.515-.464.305-.89.745-1.069 1.11l-.15.305v5.766l.136.281c.174.361.778.961 1.224 1.224.712.417 1.626.764 2.625 1.003 1.26.3 2.297.412 4.265.469 2.335.065 3.82.248 5.794.703 2.55.586 4.645 1.444 6.37 2.606.83.558 1.247.91 1.28 1.097.061.295.192.478.59.815.606.516.732.591.985.591a.702.702 0 0 0 .614-.337c.085-.146.094-.24.094-1.266 0-1.083-.005-1.116-.103-1.21a.383.383 0 0 0-.497 0c-.098.094-.103.132-.103 1.055 0 .53-.01.961-.024.961-.07 0-.778-.642-.801-.726-.01-.052-.014-1.168-.01-2.475l.015-2.381.351.314c.192.173.375.37.408.436.037.08.056.393.06.88v.76l.123.094c.16.126.3.126.46 0l.121-.094v-.919c0-.89-.005-.923-.117-1.134-.122-.22-.84-.895-1.116-1.05-.169-.09-.46-.103-.6-.028-.08.042-.136.019-.337-.146-1.29-1.026-2.93-1.926-4.58-2.512-.244-.089-.534-.192-.642-.234l-.197-.07-.028-4.426-.15-.304c-.628-1.275-2.747-2.227-5.78-2.607C9.755.262 7.331.22 6.61.281Zm3.07.75c1.842.16 3.304.516 4.453 1.079.867.426 1.35.872 1.481 1.369.164.6-.38 1.232-1.528 1.79-1.027.502-2.24.816-3.914 1.022-.76.094-3.136.08-3.985-.023C3.329 5.915 1.237 5.053.82 4.059c-.089-.211-.089-.549 0-.76.099-.234.549-.689.91-.918 1.003-.633 2.737-1.135 4.504-1.299.296-.028.614-.06.704-.065C7.33.975 9.163.989 9.68 1.03ZM1.772 5.874c1.073.558 2.512.937 4.275 1.134.375.043 1.312.094 2.086.118 1.983.06 3.36.201 5.015.515 3.413.652 6.404 1.931 8.311 3.553l.244.207v1.893c0 1.04-.01 1.894-.023 1.894a3.97 3.97 0 0 1-.338-.239 12.025 12.025 0 0 0-.726-.497l-.413-.262v-.558c0-.535-.005-.563-.122-.68-.098-.098-.15-.112-.29-.094-.263.047-.31.127-.329.54l-.018.365-.497-.239a17.906 17.906 0 0 0-.652-.3l-.145-.061-.019-.577c-.018-.675-.065-.773-.375-.773-.3 0-.365.108-.365.614 0 .323-.014.417-.057.403a31.24 31.24 0 0 0-.726-.248l-.67-.225v-.525c0-.455-.015-.54-.099-.647-.127-.16-.384-.169-.544-.019-.098.09-.107.14-.107.544 0 .342-.015.436-.061.417-.033-.014-.357-.089-.718-.169-.356-.084-.689-.159-.73-.173-.076-.024-.085-.09-.085-.563 0-.51-.005-.543-.117-.651a.365.365 0 0 0-.258-.117.366.366 0 0 0-.258.117c-.108.103-.117.145-.117.586 0 .258-.014.468-.033.468-.024-.004-.366-.051-.764-.112l-.727-.108-.023-.52c-.019-.44-.038-.54-.117-.614a.392.392 0 0 0-.54-.005c-.08.08-.093.155-.093.577v.478l-.572-.038a23.56 23.56 0 0 1-.82-.06l-.249-.024v-.488c0-.403-.014-.501-.089-.59-.117-.145-.389-.15-.534-.005-.09.094-.103.164-.117.605l-.02.497-.707-.033a14.66 14.66 0 0 1-.862-.056l-.155-.028v-.525c0-.385-.019-.549-.07-.624-.146-.206-.52-.173-.629.061-.028.066-.051.314-.051.558 0 .403-.01.445-.09.445-.102 0-.73-.117-1.185-.216l-.31-.07-.018-.628c-.019-.726-.061-.82-.375-.82s-.366.098-.366.703c0 .281-.01.515-.014.515-.07 0-.647-.225-.98-.384l-.412-.192v-.59c0-.535-.01-.596-.103-.694-.099-.108-.277-.141-.436-.08-.122.047-.211.276-.211.539 0 .234-.005.239-.09.164a1.68 1.68 0 0 1-.22-.323l-.135-.244L.698 5.15l.286.23c.155.126.511.347.788.492Zm13.875 1.556c-.01.01-.286-.056-.624-.145-.689-.178-2.08-.469-2.48-.516-.14-.018-.252-.047-.238-.065.01-.014.14-.057.29-.094.872-.192 2.185-.764 2.757-1.195l.28-.211.015 1.106c.005.61.005 1.116 0 1.12Z"/><path fill="" d="M6.657 1.852c-1.43.197-2.438.633-2.691 1.167-.094.197-.099.54-.01.745.22.53 1.21.97 2.654 1.186.745.113 2.39.113 3.154 0 1.786-.258 2.752-.81 2.752-1.58 0-.065-.052-.224-.117-.35-.286-.578-1.233-.976-2.752-1.173-.478-.06-.633-.065-.74-.019-.249.104-.296.493-.075.633.051.033.332.09.614.117.984.108 1.936.418 2.222.718l.107.122-.122.121c-.271.268-1.134.554-2.114.69-.628.088-2.226.074-2.873-.024-1.149-.178-2.11-.586-2.011-.853.052-.127.464-.352.9-.488A8.445 8.445 0 0 1 7.21 2.55c.43-.042.572-.136.572-.393 0-.141-.029-.202-.122-.277-.146-.112-.333-.122-1.003-.028Z"/></svg>
        <span>Tabela de Medidas</span>
    </a>
    <div onclick="event.currentTarget===event.target&&(this.dataset.show='false');return false;" data-show="false" id="bodyMeasurement" class="body-measurement__overlay" data-valid="{{ bodyMeasurement.valid }}" {{ bodyMeasurement.invalid ? 'data-invalid="'~ bodyMeasurement.invalid | join(',')  ~'"' }}>
        <div class="body-measurement__content">
            <button class="body-measurement__close" onclick="this.closest('[data-show]').dataset.show='false';return false;">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 6L6 18" stroke="var(--c_general_tertiary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M6 6L18 18" stroke="var(--c_general_tertiary)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </button>
        </div>
    </div>
{% endif %}
