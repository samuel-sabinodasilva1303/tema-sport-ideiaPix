{% if type == 'top_seller' %}
    {% set filterShow = ['available'] %}
    {% set orderShow = { 'quantity_sold': 'desc' } %}
{% elseif not type %}
    {% set filterShow = ['available'] %}
{% else %}
    {% set filterShow = [type, 'available'] %}
{% endif %}

{% if type != 'top_seller' and  rand %}
    {% set orderShow = 'rand' %}
{% else %}
    {% set orderShow = { 'id': 'desc' } %}
{% endif %}

{% set limitShow = quantity | default(6) %}

{% set categoriesShow = categories ? categories|split(';') : "" %}

{% set products = Products({
    'categories': categoriesShow,
    'filter': filterShow,
    'limit' : limitShow,
    'order' : orderShow
}) %}

{% set btn_swiper_showcase %}
    <div class="swiper_showcase-btn swiper_showcase-btn--next">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="12" height="12" viewBox="0 0 12 12">
            <path fill="#1d1d1d" d="M5.47 11.16a.75.75 0 0 1-.21-.53c0-.21.06-.39.2-.52l3.67-3.68H.75a.73.73 0 0 1-.53-.21.73.73 0 0 1-.22-.54c0-.21.07-.39.22-.53a.73.73 0 0 1 .53-.22h8.38L5.46 1.26a.68.68 0 0 1-.2-.53A.71.71 0 0 1 6 0c.21 0 .39.07.53.2l4.94 4.96c.08.06.13.14.16.23a.92.92 0 0 1 0 .57.66.66 0 0 1-.16.25l-4.95 4.95a.71.71 0 0 1-.52.2.71.71 0 0 1-.53-.2Z"/>
        </svg>
    </div>
    <div class="swiper_showcase-btn swiper_showcase-btn--prev">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="12" height="12" viewBox="0 0 12 12">
            <path fill="#1d1d1d" d="M6.2.2c.14.14.22.32.22.53 0 .21-.06.39-.2.53L2.55 4.93h8.38c.21 0 .4.07.54.22.14.14.21.32.21.53a.73.73 0 0 1-.75.75H2.55l3.67 3.68c.14.13.2.3.2.52 0 .21-.08.39-.21.53a.71.71 0 0 1-.53.2.71.71 0 0 1-.52-.2L.2 6.2a.51.51 0 0 1-.16-.24.92.92 0 0 1 0-.57.66.66 0 0 1 .16-.24L5.16.2c.13-.14.3-.2.52-.2.21 0 .39.06.53.2Z"/>
        </svg>
    </div>
{% endset %}

{% if products|length > 0 %}

    {% set is_special = refShowcase == 'one' ? true : false %}

    {% set columns = settings.vitrineQtd ? 5 : 4 %}

    {% set title = title|trim() != '' ? title|trim() : 'Nossa Vitrine de Produtos' %}

    <section data-col="{{ columns }}" class="home-showcase" {{ slide ? 'data-slides="product"' : '' }}>

        <div class="home-showcase__header">

            <h2 class="home-showcase__title">{{ title }}</h2>

            {% if is_special %}{% element 'snippets/countdown_showcase' %}{% endif %}

        </div>

        <div class="home-showcase__container">

            {{ is_special ? banner_showcase : '' }}

            {{ slide ? '<div class="swiper"><div class="swiper-wrapper">' : '' }}

                {% for item in products %}

                    {{ slide ? '<div class="swiper-slide">' : '' }}

                        {% element 'snippets/product' { 'product': item } %}

                    {{ slide ? '</div>' : '' }}

                {% endfor %}

            {{ slide ? '</div></div>' ~ btn_swiper_showcase : '' }}

        </div>

    </section>

{% endif %}
